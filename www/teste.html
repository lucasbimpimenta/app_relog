<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<meta name="format-detection" content="telephone=no">
	<meta name="msapplication-tap-highlight" content="no">
	<meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
	<title>Vistoria RELOG</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="node_modules/materialize-css/dist/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link rel="stylesheet" href="node_modules/leaflet/dist/leaflet.css" />
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <style>
	div {
		height:100vh;
	}
  </style>

</head>
<body>

	<div id="ocor-local" class="col s12">
		
	</div>

 <!--  Scripts-->
  <script src="node_modules/jquery/dist/jquery.min.js"></script>
  <script src="node_modules/jquery-mousewheel/jquery.mousewheel.js"></script>
  <script src="node_modules/materialize-css/dist/js/materialize.js"></script>
  <script src="node_modules/leaflet/dist/leaflet.js"></script>
  <script>
  
	var redIcon = L.icon({
		iconUrl: 'imgs/red.png',
		shadowUrl: '',
	});

	var map = L.map('ocor-local', {
		crs: L.CRS.Simple
		,inZoom: -5
	});

	var bounds = [[0,0], [1000,1000]];
	var image = L.imageOverlay('leiautes/leiaute_quadrado.jpg', bounds).addTo(map);

	map.fitBounds(bounds);
	
	var theMarker = {};

	  map.on('click',function(e){
		lat = e.latlng.lat;
		lon = e.latlng.lng;

		console.log("You clicked the map at LAT: "+ lat+" and LONG: "+lon );
			//Clear existing marker, 

			if (theMarker != undefined) {
				  map.removeLayer(theMarker);
			};

		//Add a marker to show where you clicked.
		theMarker = L.marker([lat,lon], {icon: redIcon, draggable: true}).addTo(map);  
	});

</script>
  </body>
</html>